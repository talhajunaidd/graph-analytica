<div fxLayout="row" fxLayoutWrap="wrap">
    <div fxFlex.gt-sm="100%" fxFlex="100">
        <mat-card>
            <mat-card-header>
                <div fxFlex="row" fxLayoutAlign="space-between center">
                    <mat-card-title fxFlexOrder="1">State Graph</mat-card-title>
                    <!--<div fxFlexOrder="2">-->
                        <!--<button mat-button>Export</button>-->
                    <!--</div>-->
                </div>
            </mat-card-header>
            <mat-card-content>
                <mat-accordion>
                    <mat-expansion-panel #panel [expanded]="panelOpenState" (opened)="panelOpenState = true" (closed)="panelOpenState = false">
                        <mat-expansion-panel-header>
                            <mat-panel-title>
                                Parameters
                            </mat-panel-title>
                        </mat-expansion-panel-header>
                        <mat-expansion-panel  class="interaction-input-form-field" *ngFor="let item of parameters  | keyvalue">
                            <mat-expansion-panel-header>
                                <mat-panel-title>
                                    <label>Possible interactions for {{item.key}}</label>
                                </mat-panel-title>
                            </mat-expansion-panel-header>
                            <div *ngFor="let inter of item.value">
                                <!--<label for="interactionValue">[{{inter.interaction}}]</label>-->
                                <mat-form-field>
                                    <input id="interactionValue" matInput type="number" placeholder="[{{inter.interaction}}]" [(ngModel)]="inter.value">
                                </mat-form-field>
                            </div>
                        </mat-expansion-panel>
                        <mat-action-row>
                            <button mat-button color="primary" (click)="generate_state_graph()">Generate</button>
                        </mat-action-row>
                    </mat-expansion-panel>
                    <div class="cytoscape-container">
                        <app-ngx-cytoscape [layout]="layout" [elements]="elements" [rightClickTrigger]="contextMenu"></app-ngx-cytoscape>
                    </div>

                </mat-accordion>
            </mat-card-content>
        </mat-card>
    </div>
</div>

<mat-menu #contextMenu id="contextMenu">
    <app-cy-layout [layouts]="availableLayouts" menuName="Layouts" (layoutChange)="setLayout($event)"></app-cy-layout>
</mat-menu>

